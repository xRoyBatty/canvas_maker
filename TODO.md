# Fleet & Hub Operations Worksheet - Implementation TODO

## Project Overview
Create a comprehensive 36-slide A1/A2 ESL interactive worksheet for logistics professionals.

**Target:** Complete, professional-grade educational materials with fixed media storage.

---

## Implementation Status

### Phase 1: Planning ‚úÖ COMPLETE
- [x] Complete slide-by-slide breakdown
- [x] Vocabulary selection (N1: 7 items, N2: 7 items)
- [x] Grammar structures defined (N3: have/has, N4: I manage)
- [x] Image requirements mapped (~55 images)
- [x] Audio requirements mapped (~25 files)

### Phase 2: Slide Content Creation üîÑ IN PROGRESS
Create HTML content for all 36 slides with proper structure.

#### Warm-Up Section (Slides 1-5)
- [ ] Slide 1: Title & Introduction
- [ ] Slide 2: Warm-up Q1 - "Do you work with vehicles?"
- [ ] Slide 3: Warm-up Q2 - "What do you see at workplace?"
- [ ] Slide 4: Warm-up Q3 - "Do you manage people/things?"
- [ ] Slide 5: Warm-up Q4 - "What is important in logistics?"

#### N1: Fleet Vocabulary (Slides 6-11)
- [ ] Slide 6: N1-I Introduction - Visual matching (7 fleet items)
- [ ] Slide 7: N1-T1 Training - Fill gaps with support
- [ ] Slide 8: N1-T2 Training - Multiple choice
- [ ] Slide 9: N1-PC Production - Picture puzzle (inline images)
- [ ] Slide 10: N1-PC2 Production - Labeling activity
- [ ] Slide 11: N1 Quiz - Quick review

#### N2: Hub Vocabulary (Slides 12-17)
- [ ] Slide 12: N2-I Introduction - Visual matching (7 hub items)
- [ ] Slide 13: N2-T1 Training - Fill gaps with support
- [ ] Slide 14: N2-T2 Training - Scenario matching
- [ ] Slide 15: N2-PC Production - Picture puzzle
- [ ] Slide 16: N2-PC2 Production - Warehouse map labeling
- [ ] Slide 17: N2 Quiz - Quick review

#### N3: Have/Has Grammar (Slides 18-24)
- [ ] Slide 18: N3-I Grammar presentation (affirmative, negative, conjunctions)
- [ ] Slide 19: N3-I2 Questions (What do/does, How many)
- [ ] Slide 20: N3-T1 Training - Choose have/has
- [ ] Slide 21: N3-T2 Training - Complete questions
- [ ] Slide 22: N3-T3 Training - Negatives & conjunctions
- [ ] Slide 23: N3-PC Production - Picture puzzle (comparing companies)
- [ ] Slide 24: N3 Game - Sentence builder

#### N4: I Manage (Slides 25-29)
- [ ] Slide 25: N4-I Introduction - "I manage" + 5 objects
- [ ] Slide 26: N4-I2 Who questions
- [ ] Slide 27: N4-T1 Training - Match managers to objects
- [ ] Slide 28: N4-T2 Training - Complete sentences
- [ ] Slide 29: N4-PC Production - Picture puzzle (org chart)

#### Integration Phase (Slides 30-32)
- [ ] Slide 30: LC Listening - Full dialogue (ALL N1+N2+N3+N4)
- [ ] Slide 31: RC Reading - Operations report (page 1)
- [ ] Slide 32: RC Reading - Comprehension tasks (page 2)

#### Final Production (Slides 33-34)
- [ ] Slide 33: FPC1 Speaking - Framework-based (uses LC structure)
- [ ] Slide 34: FPC2 Writing - Framework-based (uses RC structure)

#### Review (Slides 35-36)
- [ ] Slide 35: Visual summary - List to Remember
- [ ] Slide 36: Congratulations & Next Steps

### Phase 3: Media Asset Generation ‚è≥ PENDING
Generate and store all images and audio with proper compression/chunking.

#### Images to Generate
**Priority 1: Core Vocabulary (14 images)**
- [ ] Van (white, side view, clear)
- [ ] Lorry/truck (large, side view)
- [ ] Fleet (aerial view, multiple vehicles)
- [ ] Trailer (attached to truck)
- [ ] Generic vehicle
- [ ] Delivery scene (driver + customer)
- [ ] Route map (highlighted path)
- [ ] Warehouse exterior
- [ ] Forklift (yellow, clear)
- [ ] Pallet (wooden with boxes)
- [ ] Scanner (handheld)
- [ ] Conveyor belt system
- [ ] Loading dock (truck backed up)
- [ ] Shipment (stacked boxes)

**Priority 2: People Images (10 images)**
- [ ] 5 diverse managers (named: Sarah, Tom, Maria, John, Lisa)
- [ ] Group of drivers (3-4 people)
- [ ] Warehouse workers
- [ ] Manager with clipboard
- [ ] Delivery driver in action

**Priority 3: Context Images (10 images)**
- [ ] Warehouse interior scenes (3 variations)
- [ ] Logistics operations (2 busy scenes)
- [ ] Top-down warehouse diagram
- [ ] Company logo (QuickLogistics)
- [ ] Route planning board
- [ ] Inventory shelves
- [ ] Office/desk scene

**Priority 4: Icon Sets (28 icons)**
- [ ] Inline icons set 1 (14 items for N1/N2 picture puzzles)
- [ ] Inline icons set 2 (14 items for reference poster)

**Priority 5: Supporting Images (13 images)**
- [ ] Warm-up scenarios (4 images)
- [ ] Quiz visuals (4 images)
- [ ] Task illustrations (3 images)
- [ ] Achievement graphics (2 images)

#### Audio to Generate
**Priority 1: Vocabulary Pronunciation (14 files)**
- [ ] N1: van, lorry, fleet, trailer, vehicle, delivery, route
- [ ] N2: warehouse, forklift, pallet, scanner, conveyor belt, loading dock, shipment

**Priority 2: Integrated Content (3 files)**
- [ ] LC dialogue (2-3 min, Sarah + Tom, 2 speakers)
- [ ] Optional: Picture puzzle narrations (3 files)
- [ ] Model speaking answer (FPC1, 2-3 min)

**Priority 3: Grammar Examples (5 files)**
- [ ] Have/has affirmative examples
- [ ] Have/has negative examples
- [ ] Question intonation examples
- [ ] "I manage" pronunciation
- [ ] Who questions examples

**Priority 4: Feedback Sounds (3 files)**
- [ ] Correct answer sound
- [ ] Incorrect answer sound
- [ ] Achievement/completion sound

### Phase 4: Integration & Testing ‚è≥ PENDING
- [ ] Combine all slides into single HTML file
- [ ] Integrate Firebase storage with chunking
- [ ] Test audio conversion (PCM ‚Üí WAV)
- [ ] Test image compression (JPEG 60%)
- [ ] Verify all interactive elements work
- [ ] Test on mobile/tablet
- [ ] Verify offline download capability

### Phase 5: Quality Assurance ‚è≥ PENDING
- [ ] All text readable and error-free
- [ ] All images load correctly
- [ ] All audio plays correctly
- [ ] All interactive elements respond
- [ ] Navigation works (Previous/Next)
- [ ] Check answers functionality works
- [ ] Progress tracking works
- [ ] All 36 slides fully functional

---

## Content Specifications

### Vocabulary Lists

#### N1: Fleet Vocabulary (7 items)
1. **van** - small delivery vehicle
2. **lorry/truck** - large delivery vehicle
3. **fleet** - all company vehicles together
4. **trailer** - attached container behind truck
5. **vehicle** - any transport (car, van, lorry)
6. **delivery** - bringing goods to customer
7. **route** - planned driving path

#### N2: Hub Vocabulary (7 items)
1. **warehouse** - large storage building
2. **forklift** - machine to lift heavy loads
3. **pallet** - wooden platform for boxes
4. **scanner** - device to read barcodes
5. **conveyor belt** - moving platform for packages
6. **loading dock** - area where trucks load/unload
7. **shipment** - group of packages being sent

#### N4: Management Objects (5 items)
1. **drivers** - people who drive vehicles
2. **warehouses** - storage buildings
3. **deliveries** - goods being transported
4. **routes** - driving paths
5. **inventory** - all goods in stock

### Grammar Structures

#### N3: Have/Has (Complete)
- **Affirmative:** We have / They have / It has / Company has
- **Negative:** don't have / doesn't have
- **Questions:** What do they have? / How many does it have?
- **Conjunctions:** and, but, or

#### N4: I Manage
- **Structure:** I manage + [object]
- **Questions:** Who manages the [object]?

---

## Key Teaching Principles

### PPP Cycle (Present-Practice-Produce)
Each notion follows this pattern:
1. **I (Introduction):** Visual + Audio + Written form
2. **T (Training):** Controlled practice WITH support
3. **PC (Production in Context):** Free production WITHOUT support

### Picture Puzzle Methodology
- Replace vocabulary words with inline images
- Forces **recall** from memory (not recognition)
- Provides natural context immediately
- Reinforces learning through visual association

### Progressive Scaffolding
- **Support** ‚Üí Word banks, examples, hints
- **Semi-support** ‚Üí Partial prompts, frameworks
- **No support** ‚Üí Production tasks, free answers

### Integration Strategy
- LC (Listening) and RC (Reading) use **ALL** N1+N2+N3+N4
- Natural, authentic language
- Provides framework for final production

---

## Technical Specifications

### File Structure
```
allegro_complete_worksheet.html (main file)
‚îú‚îÄ Styles (Tailwind CDN + Custom CSS)
‚îú‚îÄ Firebase Integration (fixed storage with chunking)
‚îú‚îÄ Slide Content (36 pages)
‚îú‚îÄ Interactive Functions (JavaScript)
‚îú‚îÄ Chart.js Integration (for data visualization)
‚îî‚îÄ Audio Conversion Utilities (PCM to WAV)
```

### Storage Pattern
```
/artifacts/allegro-complete-v1/users/{userId}/worksheet_assets/
  ‚îú‚îÄ slide_X_img_Y/
  ‚îÇ   ‚îú‚îÄ metadata (mimeType, chunkCount)
  ‚îÇ   ‚îî‚îÄ chunks/ (900KB chunks)
  ‚îî‚îÄ slide_X_audio/
      ‚îú‚îÄ metadata
      ‚îî‚îÄ chunks/
```

### Image Specifications
- **Format:** JPEG (compressed from PNG)
- **Quality:** 60% (balance size/quality)
- **Max Resolution:** 1920x1080
- **Inline Icons:** 40-50px height, transparent background
- **Average Size:** 200-400KB per image

### Audio Specifications
- **Input:** PCM from TTS API
- **Conversion:** PCM ‚Üí WAV (using pcmToWav function)
- **Sample Rate:** 24000 Hz
- **Channels:** Mono (1)
- **Chunking:** 900KB chunks
- **Average Size:** 2-3MB per minute of audio

---

## Interactive Elements

### Types of Interactions
1. **Click-to-reveal** (vocabulary cards)
2. **Multiple choice** (radio buttons with visual feedback)
3. **Text input** (gap-fill, sentence completion)
4. **Drag-and-drop** (optional, can use click-select)
5. **Check answers buttons** (with feedback boxes)
6. **Audio playback** (per slide, with controls)
7. **Timer** (60-second countdown for speaking)
8. **Progress tracking** (slide counter, visual progress bar)

### Feedback Patterns
- **Correct:** Green background, checkmark, positive message
- **Incorrect:** Red background, X mark, hint to try again
- **Hidden feedback:** Only shows after "Check Answers" clicked
- **Visual feedback:** Color changes, animations (subtle)

---

## Image Generation Prompts

### Template Format
```
[Object/Scene Description], [Style], [Technical specs], [Context]
```

### Example Prompts

**Van:**
```
White delivery van, side view, clean modern design, professional
automotive photography, plain white background, high detail, 8k quality,
no text or logos
```

**Warehouse:**
```
Modern logistics warehouse exterior, large industrial building, loading
docks visible, professional architectural photography, bright daylight,
clean composition, 8k quality
```

**Manager Portrait:**
```
Professional warehouse manager, safety vest, holding clipboard,
confident pose, diverse ethnicity [specify], modern warehouse
background slightly blurred, professional corporate photography,
natural lighting, 8k quality
```

**Picture Puzzle Icons:**
```
Simple icon of [object], minimalist flat design, clear recognizable
shape, orange/blue color scheme, transparent background, suitable
for inline text use, 512x512px, vector style
```

---

## Audio Generation Scripts

### Vocabulary Pronunciation Template
```
"[Word]. [Word]. [Example sentence using the word]."

Pause: 1 second between repetitions
Speed: Slow, clear A1/A2 appropriate
Voice: Professional, neutral accent
```

### Example Scripts

**Van:**
```
"Van. Van. This is a white van. We use vans for deliveries."
```

**Warehouse:**
```
"Warehouse. Warehouse. The warehouse is very big. We store
many boxes in the warehouse."
```

### Dialogue Script (Slide 30 - LC)
```
SARAH: Welcome to QuickLogistics, Tom! I'm Sarah. I manage
       the drivers and the fleet.

TOM: Nice to meet you, Sarah! So, what does QuickLogistics
     have here?

SARAH: Well, we have a large fleet. We have 25 vans for small
       deliveries and 15 lorries for big shipments. Eight lorries
       have trailers.

[... continues for 2-3 minutes total]
```

---

## Quality Checklist

### Content Quality
- [ ] All vocabulary spelled correctly
- [ ] All grammar examples correct
- [ ] All instructions clear and unambiguous
- [ ] All example answers accurate
- [ ] Progressive difficulty maintained
- [ ] No cultural insensitivities

### Technical Quality
- [ ] All images load and display correctly
- [ ] All audio files play without errors
- [ ] All interactive elements respond correctly
- [ ] All "Check Answers" buttons work
- [ ] Navigation (Prev/Next) works smoothly
- [ ] Mobile responsive (works on tablets)
- [ ] No console errors in browser

### Educational Quality
- [ ] Clear learning objectives per slide
- [ ] Appropriate A1/A2 level
- [ ] Sufficient practice opportunities
- [ ] Effective use of visuals
- [ ] Natural language in context
- [ ] Scaffolding properly implemented
- [ ] Integration of all notions in LC/RC
- [ ] Framework provided for production tasks

### Storage Quality
- [ ] All assets chunked correctly (<1MB per chunk)
- [ ] Audio converted to WAV properly
- [ ] Images compressed appropriately
- [ ] No duplicate storage
- [ ] Cache loading works on refresh
- [ ] Offline download includes all assets
- [ ] No Firebase errors in console

---

## Time Estimates

### Development Time (per slide)
- Simple intro/review slides: 15-20 min
- Training slides with exercises: 30-40 min
- Production slides with puzzles: 40-50 min
- Integration slides (LC/RC): 60-90 min
- Total estimated: 20-25 hours for all 36 slides

### Asset Generation Time
- Images: 3-5 min per image (API + compression)
- Audio vocabulary: 1-2 min per file
- Audio dialogue: 10-15 min (script + generation + conversion)
- Total estimated: 4-6 hours for all assets

### Testing & QA Time
- Functionality testing: 2-3 hours
- Content review: 2-3 hours
- Mobile testing: 1 hour
- Bug fixes: 2-4 hours
- Total estimated: 7-13 hours

**Total Project Time: 31-44 hours**

---

## Parallel Task Strategy

### Agent Assignment (6 parallel agents)

**Agent 1: Warm-Up & Introduction (Slides 1-5)**
- Simple introductory content
- Multiple choice warm-up questions
- Low complexity

**Agent 2: N1 Fleet Vocabulary (Slides 6-11)**
- 7 fleet vocabulary items
- I-T-PC cycle + quiz
- Picture puzzle implementation

**Agent 3: N2 Hub Vocabulary (Slides 12-17)**
- 7 hub vocabulary items
- I-T-PC cycle + quiz
- Warehouse diagram labeling

**Agent 4: N3 Have/Has Grammar (Slides 18-24)**
- Complex grammar presentation
- Multiple training exercises
- Picture puzzle with comparison

**Agent 5: N4 Management + Integration (Slides 25-32)**
- "I manage" + 5 objects
- LC dialogue (ALL notions)
- RC report (ALL notions)

**Agent 6: Final Production & Review (Slides 33-36)**
- Framework-based speaking
- Framework-based writing
- Visual summary
- Conclusion

### Benefits of Parallel Approach
- ‚úÖ Faster development (6x speed)
- ‚úÖ Separation of concerns
- ‚úÖ Each agent focuses on cohesive content block
- ‚úÖ Easier to review/test individual sections
- ‚úÖ Can fix/regenerate sections independently

---

## Success Criteria

### Must Have
- ‚úÖ All 36 slides complete and functional
- ‚úÖ All interactive elements working
- ‚úÖ All images loading correctly
- ‚úÖ All audio playing correctly
- ‚úÖ Fixed storage (no regeneration on refresh)
- ‚úÖ Mobile responsive
- ‚úÖ Clear PPP cycle for all notions
- ‚úÖ Picture puzzles implemented
- ‚úÖ Integration phase uses ALL notions
- ‚úÖ Framework-based final production

### Should Have
- ‚≠ê Offline download capability
- ‚≠ê Progress saving to Firebase
- ‚≠ê Completion certificates
- ‚≠ê Teacher notes/instructions
- ‚≠ê Answer keys for all exercises

### Nice to Have
- üí° Gamification elements
- üí° Score tracking
- üí° Printable PDF version
- üí° Additional practice exercises
- üí° Video explanations

---

## Risk Mitigation

### Potential Issues & Solutions

**Issue: Context window exhaustion**
- Solution: This TODO.md preserves all specifications
- Solution: Use parallel agents for independent sections

**Issue: Image generation failures**
- Solution: Retry mechanism with exponential backoff
- Solution: Fallback to placeholder images temporarily

**Issue: Audio conversion errors**
- Solution: Test pcmToWav function thoroughly
- Solution: Keep raw PCM as backup

**Issue: File size exceeds limits**
- Solution: Aggressive image compression (50-60% quality)
- Solution: Chunking at 900KB (safe margin under 1MB)

**Issue: Slow loading on first run**
- Solution: Show detailed progress log
- Solution: Generate priority assets first (vocab images)

**Issue: Complex interactive elements**
- Solution: Keep interactions simple (click, not drag-drop)
- Solution: Focus on content over fancy animations

---

## Next Actions

1. ‚úÖ Create this TODO.md (COMPLETE)
2. üîÑ Launch 6 parallel Task agents to create slide content
3. ‚è≥ Review agent outputs and combine
4. ‚è≥ Generate priority 1 images (14 vocab items)
5. ‚è≥ Generate priority 1 audio (14 pronunciations)
6. ‚è≥ Test integrated worksheet with all assets
7. ‚è≥ Final QA and deployment

---

## Notes

- **Company Name:** Use "QuickLogistics" (not Allegro)
- **Manager Names:** Sarah, Tom, Maria, John, Lisa (diverse)
- **Target Audience:** Logistics professionals, A1/A2 level
- **Teacher Flexibility:** All materials provided, teacher decides pacing
- **No Time Limits:** Comprehensive is better than rushed
- **Visual Learning:** Images are pedagogical, not decorative

---

**Last Updated:** 2025 (generated from comprehensive planning session)
**Status:** Ready for parallel implementation
**Priority:** High - Complete professional ESL resource
